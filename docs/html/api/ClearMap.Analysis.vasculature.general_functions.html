
<!DOCTYPE html>


<html lang="en" data-content_root="../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>general_functions &#8212; ClearMap 2.1.0 documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "light";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/bootstrap.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
<link href="../_static/styles/pydata-sphinx-theme.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />

  
  <link href="../_static/vendor/fontawesome/6.5.1/css/all.min.css?digest=8d27b9dea8ad943066ae" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../_static/vendor/fontawesome/6.5.1/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=fd3f3429" />
    <link rel="stylesheet" type="text/css" href="../_static/design-style.1e8bd061cd6da7fc9cf755528e8ffc24.min.css?v=0a3b3ea7" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css?v=819c53c9" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae" />
<link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae" />
  <script src="../_static/vendor/fontawesome/6.5.1/js/all.min.js?digest=8d27b9dea8ad943066ae"></script>

    <script src="../_static/documentation_options.js?v=32e37178"></script>
    <script src="../_static/doctools.js?v=9a2dae69"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../_static/copybutton.js?v=f281be69"></script>
    <script src="../_static/design-tabs.js?v=36754332"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'api/ClearMap.Analysis.vasculature.general_functions';</script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <a id="pst-skip-link" class="skip-link" href="#main-content">Skip to main content</a>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>
    Back to top
  </button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__primary"
          id="__primary"/>
  <label class="overlay overlay-primary" for="__primary"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          name="__secondary"
          id="__secondary"/>
  <label class="overlay overlay-secondary" for="__secondary"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>
  
    <header class="bd-header navbar navbar-expand-lg bd-navbar">
<div class="bd-header__inner bd-page-width">
  <label class="sidebar-toggle primary-toggle" for="__primary">
    <span class="fa-solid fa-bars"></span>
  </label>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  

<a class="navbar-brand logo" href="../index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="../_static/logo.png" class="logo__image only-light" alt=""/>
    <script>document.write(`<img src="../_static/logo.png" class="logo__image only-dark" alt=""/>`);</script>
  
  
    <p class="title logo__title">ClearMap 2.1.0</p>
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../overview.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../functionality.html">
                        Functionality
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../gui/index.html">
                        GUI usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../advanced/advanced_usage.html">
                        ClearMap pipelines
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../media.html">
                        News and Media
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../references.html">
                        References
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
        </div>
      
      
        <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ChristophKirst/ClearMap2" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/clearmap_idisco" title="X" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-square-x-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">X</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

 <script>
 document.write(`
   <button class="btn navbar-btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script>
    </div>
  

  
    <label class="sidebar-toggle secondary-toggle" for="__secondary" tabindex="0">
      <span class="fa-solid fa-outdent"></span>
    </label>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          <div class="navbar-item">
<nav class="navbar-nav">
  <ul class="bd-navbar-elements navbar-nav">
    
                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../overview.html">
                        Overview
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../installation.html">
                        Installation
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../functionality.html">
                        Functionality
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../gui/index.html">
                        GUI usage
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link nav-internal" href="../advanced/advanced_usage.html">
                        ClearMap pipelines
                      </a>
                    </li>
                
            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-controls="pst-nav-more-links-2">
                    More
                </button>
                <ul id="pst-nav-more-links-2" class="dropdown-menu">
                    
                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../media.html">
                        News and Media
                      </a>
                    </li>
                

                    <li class="nav-item">
                      <a class="nav-link dropdown-item nav-internal" href="../references.html">
                        References
                      </a>
                    </li>
                
                </ul>
            </li>
            
  </ul>
</nav></div>
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<script>
document.write(`
  <button class="btn btn-sm navbar-btn theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="theme-switch nav-link" data-mode="light"><i class="fa-solid fa-sun fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="dark"><i class="fa-solid fa-moon fa-lg"></i></span>
    <span class="theme-switch nav-link" data-mode="auto"><i class="fa-solid fa-circle-half-stroke fa-lg"></i></span>
  </button>
`);
</script></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links navbar-nav"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/ChristophKirst/ClearMap2" title="GitHub" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fa-brands fa-square-github fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/clearmap_idisco" title="X" class="nav-link" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><span><i class="fab fa-square-x-twitter fa-lg" aria-hidden="true"></i></span>
            <span class="sr-only">X</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="ClearMap.Analysis.Curves.html">ClearMap.Analysis.Curves</a></li>

<li class="toctree-l1"><a class="reference internal" href="ClearMap.Analysis.DimensionReduction.html">DimensionReduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="ClearMap.Analysis.Graphs.html">ClearMap.Analysis.Graphs</a></li>

<li class="toctree-l1"><a class="reference internal" href="ClearMap.Analysis.Measurements.html">ClearMap.Analysis.Measurements</a></li>

<li class="toctree-l1"><a class="reference internal" href="ClearMap.Analysis.Statistics.html">ClearMap.Analysis.Statistics</a></li>

<li class="toctree-l1"><a class="reference internal" href="ClearMap.Analysis.vasculature.html">ClearMap.Analysis.vasculature</a></li>

</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">



<nav aria-label="Breadcrumb">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="../index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    <li class="breadcrumb-item active" aria-current="page">general_functions</li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="general-functions">
<h1>general_functions<a class="headerlink" href="#general-functions" title="Link to this heading">#</a></h1>
<table class="autosummary longtable table autosummary">
<tbody>
</tbody>
</table>
<dl class="py function" id="module-ClearMap.Analysis.vasculature.general_functions">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.avg_streamlines_grid">
<span class="sig-name descname"><span class="pre">avg_streamlines_grid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bigvessels'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'controls'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#avg_streamlines_grid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.avg_streamlines_grid" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.compute_blood_flow">
<span class="sig-name descname"><span class="pre">compute_blood_flow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#compute_blood_flow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.compute_blood_flow" title="Link to this definition">#</a></dt>
<dd><p>Return the graph with the flow, velocity and pressure properties added
If this has not been computed before, it will be computed and saved to
the sample dict</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to compute the flow, velocity and pressure from</p></li>
<li><p><strong>work_dir</strong> (<em>str</em>) – The path to the work directory</p></li>
<li><p><strong>sample_name</strong> (<em>str</em>) – The name of the sample (used in the file name)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>graph<span class="classifier">GraphGt.Graph</span></dt><dd><p>The graph with the flow, velocity and pressure properties added</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.compute_flow_f_schmid">
<span class="sig-name descname"><span class="pre">compute_flow_f_schmid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cont</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">graph_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'correcteduniverse'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dest_base_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'same'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#compute_flow_f_schmid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.compute_flow_f_schmid" title="Link to this definition">#</a></dt>
<dd><p>Compute the flow and velocity of the graph using the method published in
Schmid F. et al. <a class="reference external" href="https://doi.org/10.1371/journal.pcbi.1005392">https://doi.org/10.1371/journal.pcbi.1005392</a></p>
<p>First, make an igraph version of the graph with the necassary properties
Then add:
- length (computed from the geometry of the edges)
- boundary_cap (True if edge is a boundary capillary)
- nkind (node kind, i.e. integer representing the type of node from
(0, 1, 2, 3) for (capillaries, arteries, veins, universe)
- pBC (pressure boundary conditions)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>work_dir</strong> (<em>str</em>) – The path to the work directory</p></li>
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to compute the flow and velocity from</p></li>
<li><p><strong>cont</strong> (<em>str</em>) – The name of the control group</p></li>
<li><p><strong>graph_name</strong> (<em>str</em>) – The name of the graph file</p></li>
<li><p><strong>dest_base_name</strong> (<em>str</em>) – The base name of the destination file. If ‘same’, the name will be the same as the graph name</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
<p>flow, velocity, pressure : ndarray, ndarray, ndarray</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.coordinates_to_edge_vectors">
<span class="sig-name descname"><span class="pre">coordinates_to_edge_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vertex_coordinates</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">connectivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normalized</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#coordinates_to_edge_vectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.coordinates_to_edge_vectors" title="Link to this definition">#</a></dt>
<dd><p>Get the edge vectors from the coordinates and connectivity.
The vectors are computed as the difference between the coordinates of the vertices of the edge.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If normalized is True, the vectors will be normalized to unit length.
If a normalized vector is 0, it will be replaced by a vector of 0s.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vertex_coordinates</strong> (<em>ndarray</em>) – The coordinates of the vertices</p></li>
<li><p><strong>connectivity</strong> (<em>ndarray</em>) – The connectivity of the graph.</p></li>
<li><p><strong>normalized</strong> (<em>bool</em>) – Whether to normalize the vectors to unit length or not</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>edge_vectors<span class="classifier">ndarray</span></dt><dd><p>The vectors of the edges</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.generalized_radial_planar_orientation">
<span class="sig-name descname"><span class="pre">generalized_radial_planar_orientation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">corrected</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_to_surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'arteryvein'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dvlpmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dist_to_surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">7</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'distance'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#generalized_radial_planar_orientation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.generalized_radial_planar_orientation" title="Link to this definition">#</a></dt>
<dd><p>Use Flow interpolation to compute the orientation of the vessels in the graph.
This is based on the local orientation of the arteries</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong></p></li>
<li><p><strong>work_dir</strong></p></li>
<li><p><strong>min_radius</strong></p></li>
<li><p><strong>reference_samples</strong></p></li>
<li><p><strong>corrected</strong></p></li>
<li><p><strong>distance_to_surface</strong></p></li>
<li><p><strong>mode</strong></p></li>
<li><p><strong>average</strong></p></li>
<li><p><strong>dvlpmt</strong></p></li>
<li><p><strong>min_dist_to_surface</strong></p></li>
<li><p><strong>coordinates_name</strong></p></li>
<li><p><strong>orientation_criterion</strong></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_artery_vein_edge_coords_and_vectors">
<span class="sig-name descname"><span class="pre">get_artery_vein_edge_coords_and_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artery</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vein</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_radius</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clean_graph</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_to_surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_dist_to_surface</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">invert</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'distance'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_filter</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_artery_vein_edge_coords_and_vectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_artery_vein_edge_coords_and_vectors" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_edge_vectors">
<span class="sig-name descname"><span class="pre">get_edge_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'distance'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_edge_vectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_edge_vectors" title="Link to this definition">#</a></dt>
<dd><p>Get the edge vectors and sorted connectivity from the graph.
The edges can be oriented based on the criterion so that the vectors will follow this orientation.
If no criterion is given (‘’), the edges will not be oriented.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to get the edge vectors from</p></li>
<li><p><strong>normed</strong> (<em>bool</em>) – Whether to normalize the vectors to unit length or not</p></li>
<li><p><strong>orientation_criterion</strong> (<em>str</em>) – The criterion to use to orient the edges.
Can be either ‘pressure’, ‘distance_to_surface’ or ‘’ (no sorting)</p></li>
<li><p><strong>coordinates_name</strong> (<em>str</em>) – The coordinates space to use. Typically, ‘coordinates’, ‘coordinates_atlas’,
‘coordinates_scaled’ or ‘coordinates_MRI’</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_edge_vectors_spherical">
<span class="sig-name descname"><span class="pre">get_edge_vectors_spherical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">center</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'distance'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_edge_vectors_spherical"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_edge_vectors_spherical" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_nb_parallel_vessels">
<span class="sig-name descname"><span class="pre">get_nb_parallel_vessels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parallel_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_nb_parallel_vessels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_nb_parallel_vessels" title="Link to this definition">#</a></dt>
<dd><p>Get the number of parallel vessels from the edge color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edge_color</strong> (<em>ndarray</em>)</p></li>
<li><p><strong>parallel_threshold</strong> (<em>float</em>) – Threshold to filter out vessels that are not sufficiently parallel to the plane.
The default value is 0.7, which means that the vessel must be at least 70% parallel to the plane to be
counted as parallel. This is a good empirical value, but it may need to be adjusted for different
applications.</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – Whether to print the shape of the array</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>nb_parallel<span class="classifier">int</span></dt><dd><p>The number of parallel vessels</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_nb_radial_vessels">
<span class="sig-name descname"><span class="pre">get_nb_radial_vessels</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">edge_color</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">radiality_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.7</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_nb_radial_vessels"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_nb_radial_vessels" title="Link to this definition">#</a></dt>
<dd><p>Get the number of radial vessels from the edge color</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>edge_color</strong> (<em>ndarray</em>)</p></li>
<li><p><strong>radiality_threshold</strong> (<em>float</em>) – Threshold to filter out vessels that are not sufficiently radial to the plane.
The default value is 0.7, which means that the vessel must be at least 70% radial to the plane to be
counted as radial. This is a good empirical value, but it may need to be adjusted for different
applications.</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>nb_radial<span class="classifier">int</span></dt><dd><p>The number of radial vessels</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_orientation_from_normal_to_surface_global">
<span class="sig-name descname"><span class="pre">get_orientation_from_normal_to_surface_global</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ref_graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normal_vector_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_orientation_from_normal_to_surface_global"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_orientation_from_normal_to_surface_global" title="Link to this definition">#</a></dt>
<dd><p>Get the orientation of the graph relative to the surface normal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to get the orientation from</p></li>
<li><p><strong>ref_graph</strong></p></li>
<li><p><strong>normal_vector_method</strong> (<em>str</em>) – The method to use to compute the normal vector to the plane best fitting the vertices.
Can be either ‘svd’ or ‘mean’.</p></li>
<li><p><strong>coordinates_name</strong> (<em>str</em>) – <dl class="simple">
<dt>The coordinates space to use. Typically, ‘coordinates’, ‘coordinates_atlas’,</dt><dd><p>’coordinates_scaled’ or ‘coordinates_MRI’</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_orientation_from_normal_to_surface_local">
<span class="sig-name descname"><span class="pre">get_orientation_from_normal_to_surface_local</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">region_ids</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normal_vector_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_orientation_from_normal_to_surface_local"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_orientation_from_normal_to_surface_local" title="Link to this definition">#</a></dt>
<dd><p>Orientation in the cortex relative to the surface normal. (i.e. we fit a plane to the top vertices
and the bottom vertices and take the normal to this plane as the top-to-bottom direction). Alternatively,
we can use the average method which takes the mean of the top and bottom vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to get the orientation from</p></li>
<li><p><strong>region_ids</strong> (<em>list</em>) – The list of the ids of the regions to consider.</p></li>
<li><p><strong>normal_vector_method</strong> (<em>str</em>) – Determines the way to compute the normal vector to the plane best fitting the vertices.
Can be either ‘svd’ or ‘mean’.
If set to svd, we use Singular Value Decomposition (SVD) to find the normal vector to the plane best fitting
the top vertices.
If set to mea, we take the average of the top and bottom vertices.</p></li>
<li><p><strong>coordinates_name</strong> (<em>str</em>) – <dl class="simple">
<dt>The coordinates space to use. Typically, ‘coordinates’, ‘coordinates_atlas’,</dt><dd><p>’coordinates_scaled’ or ‘coordinates_MRI’</p>
</dd>
</dl>
</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
<p>radial_orientations, planar_orientations, reference_norms, edge_lengths
(all ndarrays)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_reference_streamlines">
<span class="sig-name descname"><span class="pre">get_reference_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reference_samples</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_reference_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_reference_streamlines" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_streamline_aec_path">
<span class="sig-name descname"><span class="pre">get_streamline_aec_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_streamline_aec_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_streamline_aec_path" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_streamline_agv_path">
<span class="sig-name descname"><span class="pre">get_streamline_agv_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_streamline_agv_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_streamline_agv_path" title="Link to this definition">#</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.get_top_to_bottom_dist">
<span class="sig-name descname"><span class="pre">get_top_to_bottom_dist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">normal_vector_method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'svd'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#get_top_to_bottom_dist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.get_top_to_bottom_dist" title="Link to this definition">#</a></dt>
<dd><p>Get the top to bottom distance of the graph.
This can be computed using the minimum distance method or by taking the mean of the top and bottom vertices.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to get the top to bottom distance from</p></li>
<li><p><strong>normal_vector_method</strong> (<em>str</em>) – <p>The method to use to compute the top to bottom distance.
Can be either ‘svd’ or ‘mean’.
If set to ‘svd’, we identify the vertices in the graph that are closer to the surface than a certain threshold
(min_dist, which is the minimum distance to the surface plus 1.5).
We then calculate the centroid of these vertices and uses Singular Value Decomposition (SVD)
to find the normal vector to the plane best fitting these vertices.
This normal vector is considered as the top-to-bottom direction.</p>
<p>If set to ‘mean’, the function computes the top-to-bottom distance by taking the mean of the coordinates
of the top and bottom vertices in the graph.
The top vertices are those with a distance to the surface less than or equal to the minimum distance plus 1,
and the bottom vertices are those with a distance to the surface greater than or equal
to the maximum distance minus 1.
The top-to-bottom direction is then the normalized vector from the mean of the top vertices
to the mean of the bottom vertices.</p>
</p></li>
<li><p><strong>coordinates_name</strong> (<em>str</em>) – The coordinates space to use. Typically, ‘coordinates’, ‘coordinates_atlas’,
‘coordinates_scaled’ or ‘coordinates_MRI’</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.graph_to_edge_coords_and_vectors">
<span class="sig-name descname"><span class="pre">graph_to_edge_coords_and_vectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_criterion</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'distance'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#graph_to_edge_coords_and_vectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.graph_to_edge_coords_and_vectors" title="Link to this definition">#</a></dt>
<dd><p>Get the coordinates and vectors of the edges of the graph.
The edges can be oriented based on the criterion so that the vectors will follow this orientation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong> (<a class="reference internal" href="ClearMap.Analysis.Graphs.GraphGt.html#ClearMap.Analysis.Graphs.GraphGt.Graph" title="ClearMap.Analysis.Graphs.GraphGt.Graph"><em>GraphGt.Graph</em></a>) – The graph to get the edge coordinates and vectors from</p></li>
<li><p><strong>coordinates_name</strong> (<em>str</em>) – The coordinates space to use. Typically, ‘coordinates’ or ‘coordinates_atlas’
IT should be an existing vertex property of the graph
(that represents the coordinates of the vertices in some space)</p></li>
<li><p><strong>orientation_criterion</strong> (<em>str</em>) – The criterion to use to orient the edges. Can be either ‘pressure’, ‘distance_to_surface’ or ‘’ (no sorting)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.load_graph">
<span class="sig-name descname"><span class="pre">load_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#load_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.load_graph" title="Link to this definition">#</a></dt>
<dd><p>Loads the graph from the given work directory and control.
Tries to load the default corrected graph, if it does not exist, tries to load the default graph.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.sort_connectivity_based_on_vertex_property">
<span class="sig-name descname"><span class="pre">sort_connectivity_based_on_vertex_property</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">orientation_criterion</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reversed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#sort_connectivity_based_on_vertex_property"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.sort_connectivity_based_on_vertex_property" title="Link to this definition">#</a></dt>
<dd><p>For each edge, sort the vertices based on the criterion.
i.e. get the edges direction based on the criterion,
which can be either ‘pressure’, ‘distance_to_surface’ or ‘’ (no sorting)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong></p></li>
<li><p><strong>orientation_criterion</strong> (<em>str</em>) – The criterion to use to sort the edges. Can be either ‘pressure’, ‘distance_to_surface’ or ‘’ (no sorting)</p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.structure_specific_radius_filter">
<span class="sig-name descname"><span class="pre">structure_specific_radius_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">artery_vein</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">specific_structures</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">((1006,</span> <span class="pre">3),</span> <span class="pre">(463,</span> <span class="pre">6))</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#structure_specific_radius_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.structure_specific_radius_filter" title="Link to this definition">#</a></dt>
<dd><p>This function reworks the graph so that the radius criterion is applied differently
depending on the structure (here, cerebellum and hippocampus)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>graph</strong></p></li>
<li><p><strong>artery_vein</strong></p></li>
<li><p><strong>label</strong></p></li>
<li><p><strong>specific_structures</strong></p></li>
</ul>
</dd>
</dl>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="ClearMap.Analysis.vasculature.general_functions.take_avg_streamlines">
<span class="sig-name descname"><span class="pre">take_avg_streamlines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work_dir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sample</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'bigvessels'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'controls'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">min_radius</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">4</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">coordinates_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'coordinates'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Analysis/vasculature/general_functions.html#take_avg_streamlines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#ClearMap.Analysis.vasculature.general_functions.take_avg_streamlines" title="Link to this definition">#</a></dt>
<dd></dd></dl>

</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.avg_streamlines_grid"><code class="docutils literal notranslate"><span class="pre">avg_streamlines_grid()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.compute_blood_flow"><code class="docutils literal notranslate"><span class="pre">compute_blood_flow()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.compute_flow_f_schmid"><code class="docutils literal notranslate"><span class="pre">compute_flow_f_schmid()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.coordinates_to_edge_vectors"><code class="docutils literal notranslate"><span class="pre">coordinates_to_edge_vectors()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.generalized_radial_planar_orientation"><code class="docutils literal notranslate"><span class="pre">generalized_radial_planar_orientation()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_artery_vein_edge_coords_and_vectors"><code class="docutils literal notranslate"><span class="pre">get_artery_vein_edge_coords_and_vectors()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_edge_vectors"><code class="docutils literal notranslate"><span class="pre">get_edge_vectors()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_edge_vectors_spherical"><code class="docutils literal notranslate"><span class="pre">get_edge_vectors_spherical()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_nb_parallel_vessels"><code class="docutils literal notranslate"><span class="pre">get_nb_parallel_vessels()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_nb_radial_vessels"><code class="docutils literal notranslate"><span class="pre">get_nb_radial_vessels()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_orientation_from_normal_to_surface_global"><code class="docutils literal notranslate"><span class="pre">get_orientation_from_normal_to_surface_global()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_orientation_from_normal_to_surface_local"><code class="docutils literal notranslate"><span class="pre">get_orientation_from_normal_to_surface_local()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_reference_streamlines"><code class="docutils literal notranslate"><span class="pre">get_reference_streamlines()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_streamline_aec_path"><code class="docutils literal notranslate"><span class="pre">get_streamline_aec_path()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_streamline_agv_path"><code class="docutils literal notranslate"><span class="pre">get_streamline_agv_path()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.get_top_to_bottom_dist"><code class="docutils literal notranslate"><span class="pre">get_top_to_bottom_dist()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.graph_to_edge_coords_and_vectors"><code class="docutils literal notranslate"><span class="pre">graph_to_edge_coords_and_vectors()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.load_graph"><code class="docutils literal notranslate"><span class="pre">load_graph()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.sort_connectivity_based_on_vertex_property"><code class="docutils literal notranslate"><span class="pre">sort_connectivity_based_on_vertex_property()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.structure_specific_radius_filter"><code class="docutils literal notranslate"><span class="pre">structure_specific_radius_filter()</span></code></a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#ClearMap.Analysis.vasculature.general_functions.take_avg_streamlines"><code class="docutils literal notranslate"><span class="pre">take_avg_streamlines()</span></code></a></li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">

  <div class="tocsection sourcelink">
    <a href="../_sources/api/ClearMap.Analysis.vasculature.general_functions.rst">
      <i class="fa-solid fa-file-lines"></i> Show Source
    </a>
  </div>
</div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/bootstrap.js?digest=8d27b9dea8ad943066ae"></script>
<script src="../_static/scripts/pydata-sphinx-theme.js?digest=8d27b9dea8ad943066ae"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright Copyright © 2020 by Christoph Kirst.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.15.2.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>