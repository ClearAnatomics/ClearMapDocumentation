
<!doctype html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>StitchingRigid &#8212; ClearMap 2.0.0 documentation</title>
    <link rel="stylesheet" href="../_static/clearmap.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clearmap_utils.css" />
    <link rel="stylesheet" type="text/css" href="../_static/clearmap_sidebar.css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="https://platform.twitter.com/widgets.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    <script src="../_static/clearmap.js"></script>
    <script src="../_static/clearmap_sidebar.js"></script>
    <script src="../_static/clearmap_togglebutton.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="StitchingWobbly" href="ClearMap.Alignment.Stitching.StitchingWobbly.html" />
    <link rel="prev" title="Stitching" href="ClearMap.Alignment.Stitching.html" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <!--[if lt IE 9]>
  <script src="_static/css3-mediaqueries.js"></script>
  <![endif]-->

  <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700' rel='stylesheet' type='text/css'/>
   

  </head><body>
<div class="document">
 <div class="imagecontainer">
  <a href="../home.html"><img src="../_static/ClearMap_banner.jpg" height=150px width=150% border="0" alt="ClearMap"/></a>
  <div class="top-left">
    <p style="font-size: 30px"> 
       <a href="../home.html" style="color: #ffffff; font-weight: bold"> ClearMap Documentation </a>
    </p>
  </div>
  <div class="top-right">
    <ul class="link-list">
     <li class="link-list"><a href="../home.html">Home</a></li>
     <li class="link-list"><a href="../overview.html">Overview</a></li>    
     <li class="link-list"><a href="../installation.html">Installation</a></li>
     <li class="link-list"><a href="https://github.com/ChristophKirst/ClearMap2"> <img src="../_static/GitHub-Mark.png" height=16px alt="Github"/> Source</a>
    </ul>
  </div>
  <div class="bottom-right">
    <a href="https://twitter.com/clearmap_idisco?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @clearmap_idisco</a>
      <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>  </a>
  </div>
 </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ClearMap.Alignment.Stitching.StitchingWobbly.html" title="StitchingWobbly"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ClearMap.Alignment.Stitching.html" title="Stitching"
             accesskey="P">previous</a> |</li>
       <li><a href="../home.html">Home</a>|&nbsp;</li>
       <li><a href="../overview.html">Overview</a>|&nbsp;</li>      
       <li><a href="../search.html">Search</a>|&nbsp;</li>
       <li><a href="../index.html">Documentation </a> |&nbsp;</li>
       <li><a href="../index.html#clearmap-api">API </a> &raquo;</li>     

          <li class="nav-item nav-item-1"><a href="../api.html" >ClearMap</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="ClearMap.Alignment.html" >Alignment</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="ClearMap.Alignment.Stitching.html" accesskey="U">Stitching</a> &#187;</li> 
      </ul>
    </div>
<div class="document">
    
    <div class="documentwrapper">
    
    
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><h3><a href="../index.html">ClearMap</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../functionality.html">Functionality</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage.html">Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../wobblystitcher.html">WobblyStitcher</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cellmap.html">CellMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CellMap.html">CellMap Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tubemap.html">TubeMap</a></li>
<li class="toctree-l1"><a class="reference internal" href="../TubeMap.html">TubeMap Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../media.html">News and Media</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../api.html">ClearMap</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ClearMap.Alignment.html">Alignment</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ClearMap.Alignment.Annotation.html">Annotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="ClearMap.Alignment.Elastix.html">Elastix</a></li>
<li class="toctree-l3"><a class="reference internal" href="ClearMap.Alignment.Resampling.html">Resampling</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="ClearMap.Alignment.Stitching.html">Stitching</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">StitchingRigid</a></li>
<li class="toctree-l4"><a class="reference internal" href="ClearMap.Alignment.Stitching.StitchingWobbly.html">StitchingWobbly</a></li>
<li class="toctree-l4"><a class="reference internal" href="ClearMap.Alignment.Stitching.Tracking.html">Tracking</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Analysis.html">Analysis</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Compile.html">Compile</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Environment.html">Environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.External.html">External</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.IO.html">IO</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.ImageProcessing.html">ImageProcessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.ParallelProcessing.html">ParallelProcessing</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Scripts.html">Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Settings.html">Settings</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Tests.html">Tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Utils.html">Utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="ClearMap.Visualization.html">Visualization</a></li>
</ul>
</li>
</ul>
 

<h3>Questions? Suggestions?</h3>
<p>Open an issue at the
  <a href="https://github.com/ChristophKirst/ClearMap2/issues">tracker</a>.</p>
  

  <h4>Previous topic</h4>
  <p class="topless"><a href="ClearMap.Alignment.Stitching.html"
                        title="previous chapter">Stitching</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ClearMap.Alignment.Stitching.StitchingWobbly.html"
                        title="next chapter">StitchingWobbly</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/Api/ClearMap.Alignment.Stitching.StitchingRigid.rst"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
    <div class="sphinxsidebar_right" role="navigation" aria-label="right navigation">
      <div class="sphinxsidebarwrapper_right">
        <h3> <a href="../cellmap.html">CellMap Pipeline</a></h3>
          <a href="../cellmap.html">
            <img src="../_static/CellMap_small_fast.gif" width=250px height=140px alt="CellMap"/></a>
        <h3> <a href="../tubemap.html">Tubemap Pipeline</a></h3>
          <a href="../tubemap.html">
            <img src="../_static/TubeMap_raw_movie_small.gif" width=250px height=140px alt="TubeMap"/></a>
        <h3> <a href="../media.html#gallery"> Gallery</a></h3>
          <a href="../media.html#gallery">
            <img src="../_static/TubeMap_graph_movie_small.gif" width=250px height=140px alt="Gallery"/></a> 
        <h3> <a href="../media.html#videos">Social Media and Videos</a></h3>
          <a href="../media.html#videos">   
            <img src="../_static/TEDx.png" width=250px height=70px alt="Videos"/></a>  
      </div>
    </div>
      <!-- sidebar2 --> 
    
    
    <div class="bodywrapper">       
    <div class="body" role="main">
          
  <div class="section" id="stitchingrigid">
<h1>StitchingRigid<a class="headerlink" href="#stitchingrigid" title="Permalink to this headline">¶</a></h1>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
</tbody>
</table>
<span class="target" id="module-ClearMap.Alignment.Stitching.StitchingRigid"></span><p>Stitching module for aligning and stitching data sets ridgidly.</p>
<p>The module provides base classes and routines for stitching images. The
<code class="xref py py-mod docutils literal notranslate"><span class="pre">StichingWobbly</span></code> module builds on this
module.</p>
<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment">
<em class="property">class </em><code class="sig-name descname">Alignment</code><span class="sig-paren">(</span><em class="sig-param">pre=None</em>, <em class="sig-param">post=None</em>, <em class="sig-param">shift=None</em>, <em class="sig-param">displacement=None</em>, <em class="sig-param">quality=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Alignment"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase" title="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase</span></code></a></p>
<p>Class to handle rigid alignments between two adjacent sources.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment.mip_axis">
<code class="sig-name descname">mip_axis</code><span class="sig-paren">(</span><em class="sig-param">axis=None</em>, <em class="sig-param">max_shifts=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Alignment.mip_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment.mip_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>A axis for maximum projections.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Alignment.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots this alignment</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment.displacement">
<em class="property">property </em><code class="sig-name descname">displacement</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment.displacement" title="Permalink to this definition">¶</a></dt>
<dd><p>The displacement between the two sources given their positions and the alignment shift.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>displacmeent<span class="classifier">array of int</span></dt><dd><p>The displacement between the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment.quality">
<em class="property">property </em><code class="sig-name descname">quality</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment.quality" title="Permalink to this definition">¶</a></dt>
<dd><p>The quality of this alignment.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>quality<span class="classifier">float</span></dt><dd><p>The quality of this alignment.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Alignment.shift">
<em class="property">property </em><code class="sig-name descname">shift</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Alignment.shift" title="Permalink to this definition">¶</a></dt>
<dd><p>The additional shift between the source positions that better aligns them.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shift<span class="classifier">array of int</span></dt><dd><p>The additional shift between the source positions that better aligns them.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase">
<em class="property">class </em><code class="sig-name descname">AlignmentBase</code><span class="sig-paren">(</span><em class="sig-param">pre=None</em>, <em class="sig-param">post=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class to handle alignments between two adjacent sources.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.overlay">
<code class="sig-name descname">overlay</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.overlay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.overlay_mip">
<code class="sig-name descname">overlay_mip</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.overlay_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.overlay_mip" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays this alignment using max intensity projection.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.overlay_overlap">
<code class="sig-name descname">overlay_overlap</code><span class="sig-paren">(</span><em class="sig-param">max_shifts=0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.overlay_overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.overlay_overlap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots this alignment</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot_mip">
<code class="sig-name descname">plot_mip</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.plot_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot_mip" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots this alignment using max intensity projection.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot_overlap">
<code class="sig-name descname">plot_overlap</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.plot_overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot_overlap" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot_overlay">
<code class="sig-name descname">plot_overlay</code><span class="sig-paren">(</span><em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#AlignmentBase.plot_overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.plot_overlay" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.ndim">
<em class="property">property </em><code class="sig-name descname">ndim</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.ndim" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension of the alignment sources.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>ndim<span class="classifier">int</span></dt><dd><p>The dimension of the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.post">
<em class="property">property </em><code class="sig-name descname">post</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.post" title="Permalink to this definition">¶</a></dt>
<dd><p>The second source that contributes to this alignment.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">Source classes</span></dt><dd><p>The second source that contribute to this alignment.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.pre">
<em class="property">property </em><code class="sig-name descname">pre</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.pre" title="Permalink to this definition">¶</a></dt>
<dd><p>The first source that contributes to this alignment.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">Source classes</span></dt><dd><p>The first source that contribute to this alignment.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.sources">
<em class="property">property </em><code class="sig-name descname">sources</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.AlignmentBase.sources" title="Permalink to this definition">¶</a></dt>
<dd><p>The sources that contribute to this alignment.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source classes</span></dt><dd><p>The sources that contribute to this alignment.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout">
<em class="property">class </em><code class="sig-name descname">Layout</code><span class="sig-paren">(</span><em class="sig-param">sources</em>, <em class="sig-param">alignments=None</em>, <em class="sig-param">position=None</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">order=None</em>, <em class="sig-param">location=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion" title="ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion</span></code></a>, <a class="reference internal" href="ClearMap.IO.Source.html#ClearMap.IO.Source.AbstractSource" title="ClearMap.IO.Source.AbstractSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.IO.Source.AbstractSource</span></code></a></p>
<p>Base class to handle the layout of multiple sources.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.align">
<code class="sig-name descname">align</code><span class="sig-paren">(</span><em class="sig-param">max_shifts=10</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.align"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.align" title="Permalink to this definition">¶</a></dt>
<dd><p>Align the sources.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.align_axis">
<code class="sig-name descname">align_axis</code><span class="sig-paren">(</span><em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">axis=None</em>, <em class="sig-param">axis_range=None</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.align_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.align_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns sources in a layout along a single axis only.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout in which to align the 3d sources in z-direction.</p>
</dd>
<dt>depth<span class="classifier">int or list of ints</span></dt><dd><p>The approximate overlaps of the sources in the tiling dimensions to use
for mip projection when aligning the axis.</p>
</dd>
<dt>max_shifts<span class="classifier">tuple of ints</span></dt><dd><p>The minmal and maximal shifts along all axes consider.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis to aling the sources along.</p>
</dd>
<dt>axis_range<span class="classifier">tuple of int or None</span></dt><dd><p>If not None, use only a sub set of the axis range to speed up processing.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Print progress information.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.array_along_axis">
<code class="sig-name descname">array_along_axis</code><span class="sig-paren">(</span><em class="sig-param">sink=None</em>, <em class="sig-param">coordinate=None</em>, <em class="sig-param">axis=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.array_along_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.array_along_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the stitched data</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sink<span class="classifier">sink specification or None</span></dt><dd><p>The sink to write the result to. If None return as array.</p>
</dd>
<dt>coordinate<span class="classifier">int</span></dt><dd><p>The coordinate at which to take the slice.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis to take the slice in.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>data<span class="classifier">array or sink</span></dt><dd><p>The stitched array or sink.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.as_real">
<code class="sig-name descname">as_real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.as_real"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.as_real" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.as_virtual">
<code class="sig-name descname">as_virtual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.as_virtual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.as_virtual" title="Permalink to this definition">¶</a></dt>
<dd><p>Return virtual source without array data to pass in parallel processing.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">Source class</span></dt><dd><p>The source class without array data.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.change_source_location">
<code class="sig-name descname">change_source_location</code><span class="sig-paren">(</span><em class="sig-param">expression</em>, <em class="sig-param">substitutions</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.change_source_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.change_source_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the sources to point to a new location.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>expression<span class="classifier">str</span></dt><dd><p>Tag expression of source names with additional substitution tags.</p>
</dd>
<dt>substitutions<span class="classifier">dict</span></dt><dd><p>A substitution dictionary of the form {tag_name : value},
specifying how to replace the substitution tags.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>This function is useful to stitch other color channels of imagining data
using the same alignments.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.change_sources">
<code class="sig-name descname">change_sources</code><span class="sig-paren">(</span><em class="sig-param">sources</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.change_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.change_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>changes the sources of this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sources<span class="classifier">list of sources</span></dt><dd><p>The new sources.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>This allows to stitch other color channels with the same alignment.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.connected">
<code class="sig-name descname">connected</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.connected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the alignments form a single connected component.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>connected<span class="classifier">bool</span></dt><dd><p>True if the alignments form a single connected component.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.connected_components">
<code class="sig-name descname">connected_components</code><span class="sig-paren">(</span><em class="sig-param">min_quality=None</em>, <em class="sig-param">with_sources=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.connected_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.connected_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines the connected components of the layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>min_quality<span class="classifier">float, tuple of floats or None</span></dt><dd><p>The minimal quality needed to include an alignment in the calculation.</p>
</dd>
<dt>with_sources<span class="classifier">bool</span></dt><dd><p>If True, also return the sources in each component.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>components<span class="classifier">list of list of Alignment classes</span></dt><dd><p>The connected components of the alignments.</p>
</dd>
<dt>component_sources<span class="classifier">list of list of Source classes</span></dt><dd><p>The sources in each compoenent.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.embedding">
<code class="sig-name descname">embedding</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.embedding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.embedding" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits the set of co-axial sources into a minimal set of non-overlaping regions.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shape<span class="classifier">tuple of int</span></dt><dd><p>The shape that encapsulates all the regions.</p>
</dd>
<dt>position<span class="classifier">tuple of int</span></dt><dd><p>The lowest corner of all the regions.</p>
</dd>
<dt>regions<span class="classifier">list of Region classes.</span></dt><dd><p>The regions of different overlaps of the individual sources.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The result can be used to stitch the images.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.layout_from_region">
<code class="sig-name descname">layout_from_region</code><span class="sig-paren">(</span><em class="sig-param">region=None</em>, <em class="sig-param">position=None</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">lower=None</em>, <em class="sig-param">upper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.layout_from_region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.layout_from_region" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a layout with only the sources needed to construct the specified region</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The reduced layout needed to cover the region.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.load">
<code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the layout specifications from a file.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.lower_to_origin">
<code class="sig-name descname">lower_to_origin</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.lower_to_origin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.lower_to_origin" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the sources so that the lower corner is at the origin.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.overlay">
<code class="sig-name descname">overlay</code><span class="sig-paren">(</span><em class="sig-param">colors=None</em>, <em class="sig-param">percentile=98</em>, <em class="sig-param">normalize=True</em>, <em class="sig-param">coordinate=None</em>, <em class="sig-param">axis=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.overlay"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.overlay" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays the sources to check their placement.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>colors<span class="classifier">list of tuple of floats or color names</span></dt><dd><p>The optional RGB colors to use.</p>
</dd>
<dt>percentile<span class="classifier">int</span></dt><dd><p>Use this percentile as upper cutoff in the resulting image to enhance contrast.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>If True normalize image to floats between 0 and 1.</p>
</dd>
<dt>coordinate<span class="classifier">int or None</span></dt><dd><p>Optional coordinate at which to take a slice.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>Optional axis to take the slice in.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>A color image.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.place">
<code class="sig-name descname">place</code><span class="sig-paren">(</span><em class="sig-param">method='optimization'</em>, <em class="sig-param">lower_to_origin=False</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.place"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.place" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimizes positions of the sources in this layout.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.place_axis">
<code class="sig-name descname">place_axis</code><span class="sig-paren">(</span><em class="sig-param">axis=None</em>, <em class="sig-param">method='optimization'</em>, <em class="sig-param">min_quality=None</em>, <em class="sig-param">lower_to_origin=False</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.place_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.place_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Places the sources in a layout along a single axis only.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>axis: int</dt><dd><p>The axis which to place the sources along.</p>
</dd>
<dt>method<span class="classifier">‘optimization’ or ‘tree’</span></dt><dd><p>The method to use to place the sources.</p>
</dd>
<dt>min_quality<span class="classifier">float</span></dt><dd><p>The minimal quality of the alignment.</p>
</dd>
<dt>lower_to_origin<span class="classifier">bool</span></dt><dd><p>If True the lower corner of the aligned images is set to zero.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><em class="sig-param">colors=None</em>, <em class="sig-param">percentile=98</em>, <em class="sig-param">normalize=True</em>, <em class="sig-param">color_ids=None</em>, <em class="sig-param">coordinate=None</em>, <em class="sig-param">axis=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots overlayed sources to check their placement.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>colors<span class="classifier">list of tuple of floats or color names</span></dt><dd><p>The optional RGB colors to use.</p>
</dd>
<dt>percentile<span class="classifier">int</span></dt><dd><p>Use this percentile as upper cutoff in the resulting image to enhance contrast.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>If True normalize image to floats between 0 and 1.</p>
</dd>
<dt>color_ids<span class="classifier">list of ints</span></dt><dd><p>Use specific color ids for the sources contributing to the layout.</p>
</dd>
<dt>coordinate<span class="classifier">int or None</span></dt><dd><p>Optional coordinate at which to take a slice.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>Optional axis to take the slice in.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>A color image.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.plot_alignments">
<code class="sig-name descname">plot_alignments</code><span class="sig-paren">(</span><em class="sig-param">cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;, annotate=True, axes=[0, 1]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.plot_alignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.plot_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays and plots regions to check the alignment of this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>cmap<span class="classifier">colormap</span></dt><dd><p>The color map to use to color the regions.</p>
</dd>
<dt>annotate<span class="classifier">bool</span></dt><dd><p>Use annotaton or not.</p>
</dd>
<dt>axes<span class="classifier">tuple of ints</span></dt><dd><p>Axes to use if sources are larger than 2d.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.plot_regions">
<code class="sig-name descname">plot_regions</code><span class="sig-paren">(</span><em class="sig-param">cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;, annotate=True, axes=[0, 1]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.plot_regions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.plot_regions" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays and plots regions to check the alignment of this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>cmap<span class="classifier">colormap</span></dt><dd><p>The color map to use to color the regions.</p>
</dd>
<dt>annotate<span class="classifier">bool</span></dt><dd><p>Use annotaton or not.</p>
</dd>
<dt>axes<span class="classifier">tuple of ints</span></dt><dd><p>Axes to use if sources are larger than 2d.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.remove_source">
<code class="sig-name descname">remove_source</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.remove_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.remove_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a source from this Layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>source<span class="classifier">int, Source class or list of ints or Source classes</span></dt><dd><p>The list of source classes to remove from this layout.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The alignments are cleaned in a consistent way when this routine is used.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.replace_source_location">
<code class="sig-name descname">replace_source_location</code><span class="sig-paren">(</span><em class="sig-param">match</em>, <em class="sig-param">replace</em>, <em class="sig-param">method='expression'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.replace_source_location"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.replace_source_location" title="Permalink to this definition">¶</a></dt>
<dd><p>Change the sources to point to a new location.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>match<span class="classifier">str or Expression</span></dt><dd><p>Expression of source names to match and substitute.</p>
</dd>
<dt>replace<span class="classifier">str or Expression</span></dt><dd><p>Expression to replace source names with.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>This function is useful to stitch other color channels of imagining data
using the same alignments.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.save"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves the layout to a file.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.set_source_positions">
<code class="sig-name descname">set_source_positions</code><span class="sig-paren">(</span><em class="sig-param">positions=None</em>, <em class="sig-param">sources=None</em>, <em class="sig-param">update_alignments=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.set_source_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.set_source_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the positions of the sources.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>positions<span class="classifier">list of tuple of ints or None</span></dt><dd><p>The new positions of the sources, if None infer a consistent solution from the alignments.</p>
</dd>
<dt>sources<span class="classifier">list of Source classes</span></dt><dd><p>If only a subset of positions is given, this list represents the sources of those positions.</p>
</dd>
<dt>update_alignments<span class="classifier">bool</span></dt><dd><p>If True, also update the alignments shifts to match the new positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.sink_slicing">
<code class="sig-name descname">sink_slicing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.sink_slicing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.sink_slicing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the slice of this layout’s data in an underlying sink.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>slice<span class="classifier">list of slice objects</span></dt><dd><p>The slice to use if this layout is placed in an underling sink.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>Positions below zero are cut off as well as above the shape.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.slice_along_axis">
<code class="sig-name descname">slice_along_axis</code><span class="sig-paren">(</span><em class="sig-param">coordinate</em>, <em class="sig-param">axis=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.slice_along_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.slice_along_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a layout corresponding to a slice along a single axis in this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>coordinate<span class="classifier">int</span></dt><dd><p>The coordinate at which to take the slice.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis to take the slice in.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">SlicedLayout class</span></dt><dd><p>The sliced layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.sort_sources_by_position">
<code class="sig-name descname">sort_sources_by_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.sort_sources_by_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.sort_sources_by_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the sources of this layout by their current position.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.source_index">
<code class="sig-name descname">source_index</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.source_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.source_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The id of a source in the list of sources.</p>
<p class="rubric">Arguments</p>
<p>source : Source class</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>id<span class="classifier">int or None</span></dt><dd><p>Position of the source in the sources list, None if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.source_positions">
<code class="sig-name descname">source_positions</code><span class="sig-paren">(</span><em class="sig-param">sources=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.source_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.source_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the positions of the sources.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>positions<span class="classifier">list of tuples of ints</span></dt><dd><p>The source positions.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.sources_as_real">
<code class="sig-name descname">sources_as_real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.sources_as_real"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.sources_as_real" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.sources_as_virtual">
<code class="sig-name descname">sources_as_virtual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.sources_as_virtual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.sources_as_virtual" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.stitch">
<code class="sig-name descname">stitch</code><span class="sig-paren">(</span><em class="sig-param">sink=None</em>, <em class="sig-param">method='interpolation'</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.stitch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.stitch" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitches the sources according to this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sink<span class="classifier">sink specification or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
<dt>method<span class="classifier">str</span></dt><dd><p>The method to use for the stitching: ‘interpolation’, ‘max’, ‘min’, ‘mean’</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array or sink</span></dt><dd><p>The stitched array or sink.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.update_alignments_from_sources">
<code class="sig-name descname">update_alignments_from_sources</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.update_alignments_from_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.update_alignments_from_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the alignments from the source positions.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.update_sources_from_alignments">
<code class="sig-name descname">update_sources_from_alignments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Layout.update_sources_from_alignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.update_sources_from_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates the source positions from the alignments.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.alignments">
<em class="property">property </em><code class="sig-name descname">alignments</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>The alignments in the layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>alignments<span class="classifier">list</span></dt><dd><p>List of the alignments in this layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.array">
<em class="property">property </em><code class="sig-name descname">array</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.array" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the stitched data</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sink<span class="classifier">sink specification or None</span></dt><dd><p>The sink to write the result to. If None return as array.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>data<span class="classifier">array or sink</span></dt><dd><p>The stitched array or sink.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.dtype">
<em class="property">property </em><code class="sig-name descname">dtype</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Data type of the sources in the layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>dtype<span class="classifier">dtype</span></dt><dd><p>Data type of the sources in this layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.location">
<em class="property">property </em><code class="sig-name descname">location</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.location" title="Permalink to this definition">¶</a></dt>
<dd><p>The location of the layout when written.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>location<span class="classifier">str</span></dt><dd><p>The location of the layout when written.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.lower">
<em class="property">property </em><code class="sig-name descname">lower</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.lower" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the lower position of the entire layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>lower<span class="classifier">tuple of ints</span></dt><dd><p>The lower position of the full layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.n_alignments">
<em class="property">property </em><code class="sig-name descname">n_alignments</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.n_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of alignments in this layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>n_alignments<span class="classifier">int</span></dt><dd><p>Number of alignments in this layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.n_sources">
<em class="property">property </em><code class="sig-name descname">n_sources</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.n_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Number of sources in the layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>n_sources<span class="classifier">int</span></dt><dd><p>Number of sources in this layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.ndim">
<em class="property">property </em><code class="sig-name descname">ndim</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.ndim" title="Permalink to this definition">¶</a></dt>
<dd><p>Dimension of the alignment sources.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>ndim<span class="classifier">int</span></dt><dd><p>The dimension of the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.order">
<em class="property">property </em><code class="sig-name descname">order</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.order" title="Permalink to this definition">¶</a></dt>
<dd><p>The contiguous order of the source.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>order<span class="classifier">order</span></dt><dd><p>The contiguous order of the source.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.position">
<em class="property">property </em><code class="sig-name descname">position</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the lower position of the layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>position<span class="classifier">tuple of ints</span></dt><dd><p>The position of the lower corner of this layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Shape of the layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shape<span class="classifier">tuple of int</span></dt><dd><p>The shape of the layout when stitching together all the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.sources">
<em class="property">property </em><code class="sig-name descname">sources</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.sources" title="Permalink to this definition">¶</a></dt>
<dd><p>The sources in the layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>sources<span class="classifier">list</span></dt><dd><p>List of the sources in this layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Layout.upper">
<em class="property">property </em><code class="sig-name descname">upper</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout.upper" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the upper position of the entire layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>upper<span class="classifier">tuple of ints</span></dt><dd><p>The upper position of the full layout.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Overlap">
<em class="property">class </em><code class="sig-name descname">Overlap</code><span class="sig-paren">(</span><em class="sig-param">position=None</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">lower=None</em>, <em class="sig-param">upper=None</em>, <em class="sig-param">sources=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region" title="ClearMap.Alignment.Stitching.StitchingRigid.Region"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.Region</span></code></a></p>
<p>Class to handle overlapping regions of aligned sources.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Overlap.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Overlap.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Overlap.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the overlap region.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>plot<span class="classifier">DataViewer</span></dt><dd><p>The plot of the overlap.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Overlap.source_arrays">
<code class="sig-name descname">source_arrays</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Overlap.source_arrays"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Overlap.source_arrays" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the data arrays of the sources in this region</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>arrays<span class="classifier">list of arrays</span></dt><dd><p>The arrays of all the sources that overlap in this region.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Overlap.source_slicings">
<code class="sig-name descname">source_slicings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Overlap.source_slicings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Overlap.source_slicings" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the slices of this overlap region of the contributing sources.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>slices<span class="classifier">list of list of slice objects</span></dt><dd><p>The slice specifications for the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Overlap.sources">
<em class="property">property </em><code class="sig-name descname">sources</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Overlap.sources" title="Permalink to this definition">¶</a></dt>
<dd><p>The sources that contribute to this overlap region.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source classes</span></dt><dd><p>The sources that contribute to this region.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region">
<em class="property">class </em><code class="sig-name descname">Region</code><span class="sig-paren">(</span><em class="sig-param">position=None</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">lower=None</em>, <em class="sig-param">upper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Class to handle rectangular regions storing positional information.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.coordinate_from_local">
<code class="sig-name descname">coordinate_from_local</code><span class="sig-paren">(</span><em class="sig-param">loacl_coordinate</em>, <em class="sig-param">axis</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region.coordinate_from_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.coordinate_from_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a local coordainte along an axis to the non-local coordinate.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>local_coordinate<span class="classifier">int</span></dt><dd><p>The local coordinate along the axis.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis of the coordiante.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>coordinate<span class="classifier">int</span></dt><dd><p>The non-local coordainte.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.coordinate_to_local">
<code class="sig-name descname">coordinate_to_local</code><span class="sig-paren">(</span><em class="sig-param">coordinate</em>, <em class="sig-param">axis</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region.coordinate_to_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.coordinate_to_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a coordinate along an axis to the a local coordinate.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>coordinate<span class="classifier">int</span></dt><dd><p>The non-local coordinate along the axis.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis of the coordiante.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>loacl_coordinate<span class="classifier">tuple of ints, or int</span></dt><dd><p>The local coordinate within this region.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.copy">
<code class="sig-name descname">copy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region.copy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.copy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.local_slicing">
<code class="sig-name descname">local_slicing</code><span class="sig-paren">(</span><em class="sig-param">source=None</em>, <em class="sig-param">position=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region.local_slicing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.local_slicing" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the slice of this region in a source or from a position.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>source<span class="classifier">Source class</span></dt><dd><p>Source at which this region should be sliced.</p>
</dd>
<dt>position<span class="classifier">tuple of ints</span></dt><dd><p>Position of the lower corner of the sink.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>slice<span class="classifier">list of slice objects</span></dt><dd><p>The slice specifications for this region in a source.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>This routine assumes that the region is within the source.
No boundary checks are performed.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.position_from_local">
<code class="sig-name descname">position_from_local</code><span class="sig-paren">(</span><em class="sig-param">local_position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region.position_from_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.position_from_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a position given in local coordiantes to the non-local position.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>local_position<span class="classifier">tuple of ints</span></dt><dd><p>The local position within the region.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>position<span class="classifier">tuple of ints</span></dt><dd><p>The non-local position.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.position_to_local">
<code class="sig-name descname">position_to_local</code><span class="sig-paren">(</span><em class="sig-param">position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Region.position_to_local"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.position_to_local" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts a position to the a local position wrt to the sources origin.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>position<span class="classifier">tuple of ints</span></dt><dd><p>The non-local position.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>loacl_position<span class="classifier">tuple of ints</span></dt><dd><p>The local position within this region.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.extent">
<em class="property">property </em><code class="sig-name descname">extent</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.extent" title="Permalink to this definition">¶</a></dt>
<dd><p>The difference between upper and lower corner.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>extent<span class="classifier">tuple of int</span></dt><dd><p>The difference between upper and lower corner.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The extent can differ from the shape in case the source is bended or wobbly.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.lower">
<em class="property">property </em><code class="sig-name descname">lower</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.lower" title="Permalink to this definition">¶</a></dt>
<dd><p>The lower corner of the source’s placement.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>lower<span class="classifier">array of int</span></dt><dd><p>The coordinates of the lower corner of the source’s placment.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.ndim">
<em class="property">property </em><code class="sig-name descname">ndim</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.ndim" title="Permalink to this definition">¶</a></dt>
<dd><p>The dimension of the source.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>ndim<span class="classifier">int</span></dt><dd><p>The dimension of the source.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.origin">
<em class="property">property </em><code class="sig-name descname">origin</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.origin" title="Permalink to this definition">¶</a></dt>
<dd><p>The origin of this region, i.e. its positively rectified position.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>origin<span class="classifier">tuple of ints</span></dt><dd><p>The rectified position, i.e. coordiantes below zero are set to zero.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.position">
<em class="property">property </em><code class="sig-name descname">position</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.position" title="Permalink to this definition">¶</a></dt>
<dd><p>The position of the region.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>position<span class="classifier">tuple of ints</span></dt><dd><p>The position of the region.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.shape">
<em class="property">property </em><code class="sig-name descname">shape</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>The shape of the region.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shape<span class="classifier">tuple of int</span></dt><dd><p>The shape of the layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Region.upper">
<em class="property">property </em><code class="sig-name descname">upper</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region.upper" title="Permalink to this definition">¶</a></dt>
<dd><p>The upper corner of the source’s placement.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>upper<span class="classifier">array of int</span></dt><dd><p>The coordinates of the upper corner of the source’s placment.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice">
<em class="property">class </em><code class="sig-name descname">Slice</code><span class="sig-paren">(</span><em class="sig-param">source</em>, <em class="sig-param">position=None</em>, <em class="sig-param">tile_position=None</em>, <em class="sig-param">slicing=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Slice"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="ClearMap.IO.Slice.html#ClearMap.IO.Slice.Slice" title="ClearMap.IO.Slice.Slice"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.IO.Slice.Slice</span></code></a>, <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion" title="ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion</span></code></a></p>
<p>Class to handle a slice of a stitchable source.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.as_real">
<code class="sig-name descname">as_real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Slice.as_real"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.as_real" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.as_virtual">
<code class="sig-name descname">as_virtual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Slice.as_virtual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.as_virtual" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a virtual handle to this source striped of any big array data useful for parallel processing.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">Source class</span></dt><dd><p>The source class with out any cached array data.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The slicing structure is kept here to be able to appropiately take slices in a source when processsing in parallel.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.id">
<em class="property">property </em><code class="sig-name descname">id</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.id" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.identifier">
<em class="property">property </em><code class="sig-name descname">identifier</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.identifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.position">
<em class="property">property </em><code class="sig-name descname">position</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the indices of the lower corner of this slice in the underlying source.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>position<span class="classifier">tuple of int</span></dt><dd><p>The coordinates of the lower corner of this slice within the source.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.position_unsliced">
<em class="property">property </em><code class="sig-name descname">position_unsliced</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.position_unsliced" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the position of this slice in the underlying space taking into account the source position.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>position<span class="classifier">tuple of ints or int</span></dt><dd><p>The position of the slice in the higher dimensional space of the source.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Slice.tile_position">
<em class="property">property </em><code class="sig-name descname">tile_position</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Slice.tile_position" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source">
<em class="property">class </em><code class="sig-name descname">Source</code><span class="sig-paren">(</span><em class="sig-param">source=None</em>, <em class="sig-param">position=None</em>, <em class="sig-param">tile_position=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion" title="ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion</span></code></a>, <a class="reference internal" href="ClearMap.IO.Source.html#ClearMap.IO.Source.AbstractSource" title="ClearMap.IO.Source.AbstractSource"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.IO.Source.AbstractSource</span></code></a></p>
<p>Class to handle basic data sources in a layout for stitching.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.as_real">
<code class="sig-name descname">as_real</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Source.as_real"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.as_real" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.as_virtual">
<code class="sig-name descname">as_virtual</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Source.as_virtual"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.as_virtual" title="Permalink to this definition">¶</a></dt>
<dd><p>Return virtual source without array data to pass in parallel processing.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">Source class</span></dt><dd><p>The source class without array data.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.plot">
<code class="sig-name descname">plot</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Source.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.plot" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.slice_along_axis">
<code class="sig-name descname">slice_along_axis</code><span class="sig-paren">(</span><em class="sig-param">coordinate=None</em>, <em class="sig-param">local_coordinate=None</em>, <em class="sig-param">axis=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#Source.slice_along_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.slice_along_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice this source at a coordinate along an axis.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>coordinate<span class="classifier">int</span></dt><dd><p>The coordinate at which to take the slice.</p>
</dd>
<dt>local_coordinate<span class="classifier">int</span></dt><dd><p>The local coordinate in the underlying source along the slice axis.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis to take the slice in.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">SlicedSource class</span></dt><dd><p>The sliced source.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>Either coordiante or local_coordinate must be given.</p>
</dd></dl>

<dl class="attribute">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.counter">
<code class="sig-name descname">counter</code><em class="property"> = 0</em><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.counter" title="Permalink to this definition">¶</a></dt>
<dd><p>Counter for the sources used to create unique ids.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.id">
<em class="property">property </em><code class="sig-name descname">id</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.id" title="Permalink to this definition">¶</a></dt>
<dd><p>The source id.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>id<span class="classifier">int</span></dt><dd><p>The id of the source.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>Parallel processing changes pointers, this id can be used to identify the same source.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.identifier">
<em class="property">property </em><code class="sig-name descname">identifier</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.identifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.location">
<em class="property">property </em><code class="sig-name descname">location</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.location" title="Permalink to this definition">¶</a></dt>
<dd><p>The location of the source’s data.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>location<span class="classifier">str or None</span></dt><dd><p>Returns the location of the data source or None if there is none.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.name">
<em class="property">property </em><code class="sig-name descname">name</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.name" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of this source.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>name<span class="classifier">str</span></dt><dd><p>Name of this source.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.source">
<em class="property">property </em><code class="sig-name descname">source</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.source" title="Permalink to this definition">¶</a></dt>
<dd><p>The underlying IO source.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.Source.tile_position">
<em class="property">property </em><code class="sig-name descname">tile_position</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.Source.tile_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Optional position on a grid.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>tile_position<span class="classifier">tuple of int</span></dt><dd><p>The tile position of this source on a grid.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion">
<em class="property">class </em><code class="sig-name descname">SourceRegion</code><span class="sig-paren">(</span><em class="sig-param">position=None</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">lower=None</em>, <em class="sig-param">upper=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#SourceRegion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.SourceRegion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.Region" title="ClearMap.Alignment.Stitching.StitchingRigid.Region"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.Region</span></code></a></p>
<p>Class to signal a Source with a region.</p>
<p class="rubric">Note</p>
<p>This class serves as a base class to identify all sources with positional
information.</p>
</dd></dl>

<dl class="class">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout">
<em class="property">class </em><code class="sig-name descname">TiledLayout</code><span class="sig-paren">(</span><em class="sig-param">sources=None</em>, <em class="sig-param">expression=None</em>, <em class="sig-param">tile_axes=None</em>, <em class="sig-param">tile_shape=None</em>, <em class="sig-param">tile_positions=None</em>, <em class="sig-param">positions=None</em>, <em class="sig-param">overlaps=None</em>, <em class="sig-param">alignments=None</em>, <em class="sig-param">position=None</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">dtype=None</em>, <em class="sig-param">order=None</em>, <em class="sig-param">location=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#ClearMap.Alignment.Stitching.StitchingRigid.Layout" title="ClearMap.Alignment.Stitching.StitchingRigid.Layout"><code class="xref py py-class docutils literal notranslate"><span class="pre">ClearMap.Alignment.Stitching.StitchingRigid.Layout</span></code></a></p>
<p>TiledLayout handles stacks aligned on a tiling grid.</p>
<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.adjust_overlaps">
<code class="sig-name descname">adjust_overlaps</code><span class="sig-paren">(</span><em class="sig-param">overlaps=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.adjust_overlaps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.adjust_overlaps" title="Permalink to this definition">¶</a></dt>
<dd><p>Adjusts the positions of the sources given a new estimate of the overlaps.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>overlaps<span class="classifier">tuple of ints or None</span></dt><dd><p>Overlaps of the sources in each grid dimension.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.align_on_tiling">
<code class="sig-name descname">align_on_tiling</code><span class="sig-paren">(</span><em class="sig-param">overlaps=(50</em>, <em class="sig-param">50)</em>, <em class="sig-param">max_shifts=(-50</em>, <em class="sig-param">50)</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.align_on_tiling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.align_on_tiling" title="Permalink to this definition">¶</a></dt>
<dd><p>Align pairwise images using overlaps along and grid information.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">TiledLayout</span></dt><dd><p>The grid layout of the sources.</p>
</dd>
<dt>overlaps<span class="classifier">int, tuple of ints or list of tuple of ints</span></dt><dd><p>The overlaps along the grid axes.</p>
</dd>
<dt>max_shifts<span class="classifier">tuple or list of tuple of ints</span></dt><dd><p>The maximal shifts along the axes directions.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The updated layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.alignment_from_tile_positions">
<code class="sig-name descname">alignment_from_tile_positions</code><span class="sig-paren">(</span><em class="sig-param">tile_position1</em>, <em class="sig-param">tile_position2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.alignment_from_tile_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.alignment_from_tile_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the alignemtn between two tiles if exists..</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>tile_position1,2<span class="classifier">tuple of ints</span></dt><dd><p>The position of the sources in the grid.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>alignment<span class="classifier">Alignment class or None</span></dt><dd><p>The alignment between the tile positions, None if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.alignments_from_tile_position">
<code class="sig-name descname">alignments_from_tile_position</code><span class="sig-paren">(</span><em class="sig-param">tile_position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.alignments_from_tile_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.alignments_from_tile_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all alignments that involve a specified tile.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>tile_position<span class="classifier">tuple of ints</span></dt><dd><p>The position of the source.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignment class</span></dt><dd><p>The alignments involved in the specified tile position,</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.center_tile_position">
<code class="sig-name descname">center_tile_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.center_tile_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.center_tile_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the most center tile position in this layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>tile_center<span class="classifier">tuple of ints</span></dt><dd><p>The tile position of the most central tile.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.center_tile_source">
<code class="sig-name descname">center_tile_source</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.center_tile_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.center_tile_source" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the most central source in this tile layout.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>center<span class="classifier">tuple of ints</span></dt><dd><p>The most central tile.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.sort_sources_by_tile_position">
<code class="sig-name descname">sort_sources_by_tile_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.sort_sources_by_tile_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.sort_sources_by_tile_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the sources of this layout by grid position.</p>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.source_from_tile_position">
<code class="sig-name descname">source_from_tile_position</code><span class="sig-paren">(</span><em class="sig-param">tile_position</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.source_from_tile_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.source_from_tile_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps the grid position to a source in this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>tile_position<span class="classifier">tuple of ints</span></dt><dd><p>The position of the source in the grid.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>source<span class="classifier">Source class or None</span></dt><dd><p>The source at the required grid position, None if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.source_to_tile_position">
<code class="sig-name descname">source_to_tile_position</code><span class="sig-paren">(</span><em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#TiledLayout.source_to_tile_position"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.source_to_tile_position" title="Permalink to this definition">¶</a></dt>
<dd><p>Maps the source to a position on the grid in this layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>source<span class="classifier">Source class or int</span></dt><dd><p>The souce or id of the source to map to a grid position.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>positions<span class="classifier">tuple of ints or None</span></dt><dd><p>The grid position of the source, None if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.tile_dim">
<em class="property">property </em><code class="sig-name descname">tile_dim</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.tile_dim" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the dimension of the grid.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>g_dim<span class="classifier">int</span></dt><dd><p>The grid dimension.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.tile_positions">
<em class="property">property </em><code class="sig-name descname">tile_positions</code><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.TiledLayout.tile_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the list of the grid positions of the sources.</p>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>tile_positions<span class="classifier">list of tuple of ints</span></dt><dd><p>The grid positions of the sources.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_2_sources">
<code class="sig-name descname">align_2_sources</code><span class="sig-paren">(</span><em class="sig-param">src1</em>, <em class="sig-param">src2</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">normalize=False</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_2_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_2_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Align 2 sources using root mean square difference measure.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>src1, src2<span class="classifier">array like sources</span></dt><dd><p>Sources to align.</p>
</dd>
<dt>max_shifts<span class="classifier">int, tuple or list of tuples of ints</span></dt><dd><p>The minimum and maximum shifts along the different axes to consider for alignment.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the sources at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>Use normalized cross correlation, instead of co-variance, i.e. subtract mean and divide by std.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shift<span class="classifier">array</span></dt><dd><p>The additional shift between the first and second source for optimal pairwise alignment.</p>
</dd>
<dt>quality<span class="classifier">float</span></dt><dd><p>Quality measure.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_2_sources_along_axis">
<code class="sig-name descname">align_2_sources_along_axis</code><span class="sig-paren">(</span><em class="sig-param">src1</em>, <em class="sig-param">src2</em>, <em class="sig-param">axis=0</em>, <em class="sig-param">overlap=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_2_sources_along_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_2_sources_along_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Align 2 images along a specified axis.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>src1, src2<span class="classifier">2d arrays</span></dt><dd><p>The images to align.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The alignment axis.</p>
</dd>
<dt>overlap<span class="classifier">tuple of int</span></dt><dd><p>The minimum and maximum overlap along the alignment axis</p>
</dd>
<dt>max_shifts<span class="classifier">int, tuple of int or list of tuple of ints</span></dt><dd><p>The minimum and maximum shifts along the different axes. Only the values for the axes orthogonal to the alignment axis are used.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the sources at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shift<span class="classifier">array</span></dt><dd><p>The shift of the second image wrt to the first for optimal pairwise alignment.</p>
</dd>
<dt>quality<span class="classifier">float</span></dt><dd><p>A quality measure of the alignment.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>This routine simply translates overlap specifications in one axis direction into max_shifts for use with align_2_sources.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_2_sources_along_axis_mip">
<code class="sig-name descname">align_2_sources_along_axis_mip</code><span class="sig-paren">(</span><em class="sig-param">src1</em>, <em class="sig-param">src2</em>, <em class="sig-param">axis=2</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">with_mip=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_2_sources_along_axis_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_2_sources_along_axis_mip" title="Permalink to this definition">¶</a></dt>
<dd><p>Align 2 images orthogonal to a spcified axis using max projection</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>src1, src2: 2d arrays</dt><dd><p>The sources to align.</p>
</dd>
<dt>axis: int</dt><dd><p>Axis for max intensity projection (mip).</p>
</dd>
<dt>depth<span class="classifier">int</span></dt><dd><p>The depth to use for the maximum intensity projection along the mip axis.</p>
</dd>
<dt>max_shifts: tuple of int</dt><dd><p>The minimum and maximum shifts along the axes.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, print progress information.</p>
</dd>
<dt>with_mip: bool</dt><dd><p>If True, also return the maximum projections used to aling the two sources.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shift<span class="classifier">array</span></dt><dd><p>The shift of the second image wrt to the first for optimal pairwise alignment orthogonal to mip axis</p>
</dd>
<dt>quality<span class="classifier">float</span></dt><dd><p>The quality measure of the alignment.</p>
</dd>
<dt>mips<span class="classifier">tuple of arrays</span></dt><dd><p>Optional maximum intensity projections.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_layout">
<code class="sig-name descname">align_layout</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns the sources in a layout.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>max_shifts<span class="classifier">int, tuple of ints or list of list of tuple of ints</span></dt><dd><p>The maximal shifts of the images with respect to each other along each dimension.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout with the new alignments.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_layout_axis">
<code class="sig-name descname">align_layout_axis</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">axis=2</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">axis_range=None</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_layout_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_layout_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns sources in a layout in a single axis direction only.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout in which to align the 3d sources in z-direction.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis along to aling the layout.</p>
</dd>
<dt>depth<span class="classifier">int or list of ints</span></dt><dd><p>The approximate overlaps of the images in the different dimensions to use for mip projection.
Only the depth parameter along the relevant axis is used.</p>
</dd>
<dt>max_shifts<span class="classifier">tuple of ints</span></dt><dd><p>The minmal and maximal shift in to consider.</p>
</dd>
<dt>axis_range<span class="classifier">tuple of int or None</span></dt><dd><p>Use only a sub set of the axis range to speed up processing.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout</span></dt><dd><p>The layout with updated axis-alignments.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>To speed up the calculation, a mip projection is used in the direction of the
tiling</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_layout_on_tiling">
<code class="sig-name descname">align_layout_on_tiling</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">overlaps=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_layout_on_tiling"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_layout_on_tiling" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates shifts of the sources on a gird layout that aligns them.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">TiledLayout</span></dt><dd><p>The grid layout of the sources.</p>
</dd>
<dt>overlaps<span class="classifier">tuple of ints</span></dt><dd><p>The overlaps along the grid axes.</p>
</dd>
<dt>max_shifts<span class="classifier">tuple or list of tuple of ints</span></dt><dd><p>The maximal shifts along the axes directions.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">TiledLayout class</span></dt><dd><p>The updated layout after alignment.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_layout_rigid_mip">
<code class="sig-name descname">align_layout_rigid_mip</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">ranges=None</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_layout_rigid_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_layout_rigid_mip" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns sources in a layout in a single axis direction only.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout in which to align the 3d sources in z-direction.</p>
</dd>
<dt>depth<span class="classifier">int or list of ints</span></dt><dd><p>The approximate overlaps of the images in the different dimensions to use for mip projection.
Only the depth parameter along the relevant axis is used.</p>
</dd>
<dt>max_shifts<span class="classifier">tuple of ints</span></dt><dd><p>The minmal and maximal shift in to consider.</p>
</dd>
<dt>axis_range<span class="classifier">tuple of int or None</span></dt><dd><p>Use only a sub set of the axis range to speed up processing.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’ layout.alig</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout</span></dt><dd><p>The layout with updated axis-alignments.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>To speed up the calculation, a mip projection is used in the direction of the tiling.
The tiling dimension are assumed to be alinged with the first image dimensions.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.align_layout_rigid_mips">
<code class="sig-name descname">align_layout_rigid_mips</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">ranges=None</em>, <em class="sig-param">clip=None</em>, <em class="sig-param">background=None</em>, <em class="sig-param">processes=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#align_layout_rigid_mips"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.align_layout_rigid_mips" title="Permalink to this definition">¶</a></dt>
<dd><p>Aligns sources in a layout using mip in all directions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout in which to align the 3d sources in z-direction.</p>
</dd>
<dt>depth<span class="classifier">int or list of ints</span></dt><dd><p>The approximate overlaps of the images in the different dimensions to use for mip projection.
Only the depth parameter along the relevant axis is used.</p>
</dd>
<dt>max_shifts<span class="classifier">tuple of ints</span></dt><dd><p>The minmal and maximal shift in to consider.</p>
</dd>
<dt>axis_range<span class="classifier">tuple of int or None</span></dt><dd><p>Use only a sub set of the axis range to speed up processing.</p>
</dd>
<dt>clip<span class="classifier">number or None</span></dt><dd><p>If not None, clip the soruces at this value when calculating the alignment.</p>
</dd>
<dt>background<span class="classifier">number or None</span></dt><dd><p>If not None, if the values in the overlap region are less than this number make alignment return -inf quality as there is no signal to use for alignment.</p>
</dd>
<dt>processes<span class="classifier">int or ‘serial’ layout.alig</span></dt><dd><p>Number of processor to use for parallel processing, if ‘serial’ process in serial.</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout</span></dt><dd><p>The layout with updated axis-alignments.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>To speed up the calculation, a mip projection is used in the direction of the tiling.
The tiling dimension are assumed to be alinged with the first image dimensions.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.alignments_from_source_positions">
<code class="sig-name descname">alignments_from_source_positions</code><span class="sig-paren">(</span><em class="sig-param">alignments</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#alignments_from_source_positions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.alignments_from_source_positions" title="Permalink to this definition">¶</a></dt>
<dd><p>Update alignment shifts from source positions and shapes</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignments classes</span></dt><dd><p>The alignments pairs of the sources.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignments classes</span></dt><dd><p>The updated alignments.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.check_alignments_and_sources">
<code class="sig-name descname">check_alignments_and_sources</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">sources</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#check_alignments_and_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.check_alignments_and_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks consistency of alignments and sources.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.connected">
<code class="sig-name descname">connected</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">sources=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#connected"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.connected" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns True if the alignments form a single connected component.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignment classes</span></dt><dd><p>The pairwise alignments.</p>
</dd>
<dt>sources<span class="classifier">list of Source classes or None</span></dt><dd><p>Optional list of all sources.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>connected<span class="classifier">bool</span></dt><dd><p>True if the alignments form a single connected component.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.connected_components">
<code class="sig-name descname">connected_components</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">sources=None</em>, <em class="sig-param">min_quality=None</em>, <em class="sig-param">with_sources=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#connected_components"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.connected_components" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the connected components of the alignments</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignment classes</span></dt><dd><p>The pairwise alignments.</p>
</dd>
<dt>sources<span class="classifier">list of Source classes or None</span></dt><dd><p>Optional list of all sources.</p>
</dd>
<dt>min_quality<span class="classifier">float, tuple of floats or None</span></dt><dd><p>The mininal quality for alignments to be included in the calculation.</p>
</dd>
<dt>with_sources<span class="classifier">bool</span></dt><dd><p>If True, also return the sources in each component, as single sources might not appear in the alignment components.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>components<span class="classifier">list of list of Alignment classes</span></dt><dd><p>The connected components of the alignments.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.copy_sources_and_alignments">
<code class="sig-name descname">copy_sources_and_alignments</code><span class="sig-paren">(</span><em class="sig-param">sources</em>, <em class="sig-param">alignments</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#copy_sources_and_alignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.copy_sources_and_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Copys the sources and alignments but not the underlying array data.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source classes or None</span></dt><dd><p>List of sources.</p>
</dd>
<dt>alignments<span class="classifier">list of Alignment classes</span></dt><dd><p>The pairwise alignments.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source classes or None</span></dt><dd><p>Copied list of sources.</p>
</dd>
<dt>alignments<span class="classifier">list of Alignment classes</span></dt><dd><p>Copied list of pairwise alignments.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.embedding">
<code class="sig-name descname">embedding</code><span class="sig-paren">(</span><em class="sig-param">sources</em>, <em class="sig-param">shape=None</em>, <em class="sig-param">position=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#embedding"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.embedding" title="Permalink to this definition">¶</a></dt>
<dd><p>Splits a set of co-axial sources into a minimal set of non-overlaping regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source or Region classes</span></dt><dd><p>The sources to embed in a full image.</p>
</dd>
<dt>shape<span class="classifier">tuple of ints or None</span></dt><dd><p>Optional fixed shape of the full image, if None use the minimal shape that fits all sources.</p>
</dd>
<dt>position<span class="classifier">tuple of ints or None</span></dt><dd><p>Optional position form which to start the stitching. Together with shape this can be used to restrict the stitching region.
If None, use the minimal position that fits all the contributing sources.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>shape<span class="classifier">tuple of int</span></dt><dd><p>The shape that encapsulates all the regions.</p>
</dd>
<dt>position<span class="classifier">tuple of int</span></dt><dd><p>The lowest corner of all the regions.</p>
</dd>
<dt>regions<span class="classifier">list of Overlap classes.</span></dt><dd><p>The regions of different overlaps of the individual sources.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The result can be used to stitch the images.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.filter_alignments">
<code class="sig-name descname">filter_alignments</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">min_quality=-inf</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#filter_alignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.filter_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter out alignments that fall below a certain quality level.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignments classes</span></dt><dd><p>The pairwise alignments between images to optimize globally.</p>
</dd>
<dt>min_quality<span class="classifier">float</span></dt><dd><p>The minimal quality of the alignment.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignment classes</span></dt><dd><p>The filtered alignments.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.layout_along_axis_mip">
<code class="sig-name descname">layout_along_axis_mip</code><span class="sig-paren">(</span><em class="sig-param">src1</em>, <em class="sig-param">src2</em>, <em class="sig-param">axis=2</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">ranges=None</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#layout_along_axis_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.layout_along_axis_mip" title="Permalink to this definition">¶</a></dt>
<dd><p>Layout corresponding to a mip projected alignment</p>
<p class="rubric">Arguments</p>
<p class="rubric">Returns</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.layout_coloring">
<code class="sig-name descname">layout_coloring</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">colors=None</em>, <em class="sig-param">color_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#layout_coloring"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.layout_coloring" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.load_layout">
<code class="sig-name descname">load_layout</code><span class="sig-paren">(</span><em class="sig-param">filename</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#load_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.load_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a layout class from a file</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>filename<span class="classifier">str</span></dt><dd><p>The file to load the layout from.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The loaded layout.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.max_intensity_projection">
<code class="sig-name descname">max_intensity_projection</code><span class="sig-paren">(</span><em class="sig-param">data</em>, <em class="sig-param">axis=0</em>, <em class="sig-param">function=&lt;function amax&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#max_intensity_projection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.max_intensity_projection" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the max intensity projection along a specified axis.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>data<span class="classifier">array</span></dt><dd><p>The data array.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis along which to perform the maximum projection.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>mip<span class="classifier">array</span></dt><dd><p>The maximum intensity projection of the data along axis.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.overlap">
<code class="sig-name descname">overlap</code><span class="sig-paren">(</span><em class="sig-param">region1</em>, <em class="sig-param">region2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#overlap"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.overlap" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlap between two regions.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.overlay_along_axis_mip">
<code class="sig-name descname">overlay_along_axis_mip</code><span class="sig-paren">(</span><em class="sig-param">src1</em>, <em class="sig-param">src2</em>, <em class="sig-param">axis=2</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">ranges=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#overlay_along_axis_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.overlay_along_axis_mip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.overlay_layout">
<code class="sig-name descname">overlay_layout</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">colors=None</em>, <em class="sig-param">percentile=98</em>, <em class="sig-param">normalize=True</em>, <em class="sig-param">color_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#overlay_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.overlay_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays the sources to check their placement.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout with the sources to overlay.</p>
</dd>
<dt>colors<span class="classifier">list of tuple of floats or color names</span></dt><dd><p>The optional RGB colors to use.</p>
</dd>
<dt>percentile<span class="classifier">int</span></dt><dd><p>Use this percentile as upper cutoff in the resulting image to enhance contrast.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>If True normalize image to floats between 0 and 1.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>A color image.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.overlay_sources">
<code class="sig-name descname">overlay_sources</code><span class="sig-paren">(</span><em class="sig-param">sources</em>, <em class="sig-param">colors=None</em>, <em class="sig-param">percentile=98</em>, <em class="sig-param">normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#overlay_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.overlay_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays the sources to check thier placement.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout with the sources to overlay.</p>
</dd>
<dt>colors<span class="classifier">list of tuple of floats or color names</span></dt><dd><p>The optional RGB colors to use.</p>
</dd>
<dt>percentile<span class="classifier">int</span></dt><dd><p>Use this percentile as upper cutoff in the resulting image to enhance contrast.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>If True normalize image to floats between 0 and 1.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>A color image.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.place_layout">
<code class="sig-name descname">place_layout</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">method='optimization'</em>, <em class="sig-param">min_quality=None</em>, <em class="sig-param">lower_to_origin=False</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#place_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.place_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Place the sources in a layout in a consistent way.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout in which the Sources will be placed in a consistent way.</p>
</dd>
<dt>method<span class="classifier">‘optimization’ or ‘tree’</span></dt><dd><p>The method to use to place the sources.</p>
</dd>
<dt>min_quality<span class="classifier">float</span></dt><dd><p>The minimal quality of the alignments to include in the placement process.</p>
</dd>
<dt>lower_to_origin<span class="classifier">bool</span></dt><dd><p>If True, the lower corner of the aligned sources is set to zero.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout with the optimized positions of the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.place_layout_axis">
<code class="sig-name descname">place_layout_axis</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">axis=2</em>, <em class="sig-param">method='optimization'</em>, <em class="sig-param">min_quality=None</em>, <em class="sig-param">lower_to_origin=False</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#place_layout_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.place_layout_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Places the sources in a layout along a single axis only.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout of the stacks.</p>
</dd>
<dt>method<span class="classifier">‘optimization’ or ‘tree’</span></dt><dd><p>The method to use to place the sources.</p>
</dd>
<dt>min_quality<span class="classifier">float</span></dt><dd><p>The minimal quality of the alignment.</p>
</dd>
<dt>lower_to_origin<span class="classifier">bool</span></dt><dd><p>If True the lower corner of the aligned images is set to zero.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout</span></dt><dd><p>The layout with updated z-alignments.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.plot_alignments">
<code class="sig-name descname">plot_alignments</code><span class="sig-paren">(</span><em class="sig-param">alignments, sources=None, axes=[0, 1], annotate=True, min_quality=-inf, cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#plot_alignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.plot_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots the alignments with their quality</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.plot_along_axis_mip">
<code class="sig-name descname">plot_along_axis_mip</code><span class="sig-paren">(</span><em class="sig-param">src1</em>, <em class="sig-param">src2</em>, <em class="sig-param">axis=2</em>, <em class="sig-param">depth=10</em>, <em class="sig-param">max_shifts=10</em>, <em class="sig-param">ranges=None</em>, <em class="sig-param">verbose=False</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#plot_along_axis_mip"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.plot_along_axis_mip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.plot_layout">
<code class="sig-name descname">plot_layout</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">colors=None</em>, <em class="sig-param">percentile=98</em>, <em class="sig-param">normalize=True</em>, <em class="sig-param">color_ids=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#plot_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.plot_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays and plots sources in a layout to check alignment.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout to use for plotting.</p>
</dd>
<dt>colors<span class="classifier">list of colors or None</span></dt><dd><p>The optional RGB colors to use.</p>
</dd>
<dt>percentile<span class="classifier">int</span></dt><dd><p>Use this percentile as upper cutoff in the resulting image to enhance contrast.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>If True normalize image to floats between 0 and 1.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>A color image of the overlayed sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.plot_regions">
<code class="sig-name descname">plot_regions</code><span class="sig-paren">(</span><em class="sig-param">regions, sources=None, cmap=&lt;matplotlib.colors.LinearSegmentedColormap object&gt;, annotate=True, axes=[0, 1]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#plot_regions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.plot_regions" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays and plots regions to check the alignment.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>regions<span class="classifier">list of Region classes.</span></dt><dd><p>The regions to plot.</p>
</dd>
<dt>cmap<span class="classifier">colormap</span></dt><dd><p>The color map to use to color the regions.</p>
</dd>
<dt>annotate<span class="classifier">bool</span></dt><dd><p>Use annotaton or not.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.plot_sources">
<code class="sig-name descname">plot_sources</code><span class="sig-paren">(</span><em class="sig-param">sources</em>, <em class="sig-param">colors=None</em>, <em class="sig-param">percentile=98</em>, <em class="sig-param">normalize=True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#plot_sources"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.plot_sources" title="Permalink to this definition">¶</a></dt>
<dd><p>Overlays and plots sources in a layout to check alignment.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout: Layout class</dt><dd><p>The layout to use for plotting.</p>
</dd>
<dt>colors<span class="classifier">list of colors or None</span></dt><dd><p>The optional RGB colors to use.</p>
</dd>
<dt>percentile<span class="classifier">int</span></dt><dd><p>Use this percentile as upper cutoff in the resulting image to enhance contrast.</p>
</dd>
<dt>normalize<span class="classifier">bool</span></dt><dd><p>If True normalize image to floats between 0 and 1.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>image<span class="classifier">array</span></dt><dd><p>A color image of the overlayed sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.positions_from_optimization">
<code class="sig-name descname">positions_from_optimization</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">sources=None</em>, <em class="sig-param">min_quality=None</em>, <em class="sig-param">fixed_source=None</em>, <em class="sig-param">lower_to_origin=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#positions_from_optimization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.positions_from_optimization" title="Permalink to this definition">¶</a></dt>
<dd><p>Use least squares optimization to find globally optimal source positions from pairwise alignments.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignments classes</span></dt><dd><p>The pairwise alignments between images to optimize globally.</p>
</dd>
<dt>sources<span class="classifier">list of Source classes or None</span></dt><dd><p>The sources to optimze the positions for, if None determine from the alignments.</p>
</dd>
<dt>min_quality<span class="classifier">float</span></dt><dd><p>The minimal quality of the alignment.</p>
</dd>
<dt>fixed_source<span class="classifier">Source class, int or None</span></dt><dd><p>Optional source to kept fixed. If None the first source is kept fixed.</p>
</dd>
<dt>lower_to_origin<span class="classifier">bool</span></dt><dd><p>If True, the lower corner of the aligned images is set to zero.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source classes</span></dt><dd><p>The sources with the optimized positions.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The error function is sum (x_i + s_ij - x_j)^2 with x_i the image positions and s_ij the pairwise shifts.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.positions_from_tree">
<code class="sig-name descname">positions_from_tree</code><span class="sig-paren">(</span><em class="sig-param">alignments</em>, <em class="sig-param">sources=None</em>, <em class="sig-param">min_quality=None</em>, <em class="sig-param">fixed_source=None</em>, <em class="sig-param">lower_to_origin=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#positions_from_tree"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.positions_from_tree" title="Permalink to this definition">¶</a></dt>
<dd><p>Update source positions from alignments.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignments classes</span></dt><dd><p>The alignments pairs of the sources.</p>
</dd>
<dt>sources<span class="classifier">list of Source classes or None</span></dt><dd><p>Optional sources to update the positions for, if None extracted from alignment classes.</p>
</dd>
<dt>min_quality<span class="classifier">float</span></dt><dd><p>The minimal quality of the alignment.</p>
</dd>
<dt>fixed_source<span class="classifier">Source class, int or None</span></dt><dd><p>Optional source to kept fixed. If None the first source is placed at the origin.</p>
</dd>
<dt>lower_to_origin<span class="classifier">bool</span></dt><dd><p>If True the lower corner of the aligned images is set to zero.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>positions<span class="classifier">list of tuple of ints</span></dt><dd><p>The source positions.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The result will be a single consistent solution based on a minimal paths between the first and the other sources of the layout.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.save_layout">
<code class="sig-name descname">save_layout</code><span class="sig-paren">(</span><em class="sig-param">filename</em>, <em class="sig-param">layout</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#save_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.save_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Saves a layout class to a file.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>filename<span class="classifier">str</span></dt><dd><p>The file to save the layout too.</p>
</dd>
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout to save.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>file_name<span class="classifier">str</span></dt><dd><p>The file name in which the layout was saved.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.slice_layout_along_axis">
<code class="sig-name descname">slice_layout_along_axis</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">coordinate</em>, <em class="sig-param">axis=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#slice_layout_along_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.slice_layout_along_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Slice a layout at a coordinate along an axis.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout to take the slice through.</p>
</dd>
<dt>coordinate<span class="classifier">int</span></dt><dd><p>The coordinate of the slice along the slice axis in the original layout.</p>
</dd>
<dt>axis<span class="classifier">int</span></dt><dd><p>The axis used to slice the layout.</p>
</dd>
</dl>
<p class="rubric">Note</p>
<p>The sources of the layout will be sliced accordingly.
The sources position along the axis is taken into account and sources not in
the slice are droped. Thus, ensure the position along the slice axis is
aligned, e.g. by using <code class="xref py py-func docutils literal notranslate"><span class="pre">aling_layout_along_axis()</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.source_index">
<code class="sig-name descname">source_index</code><span class="sig-paren">(</span><em class="sig-param">sources</em>, <em class="sig-param">source</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#source_index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.source_index" title="Permalink to this definition">¶</a></dt>
<dd><p>The index of a source in the list of sources.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>sources<span class="classifier">list of source classes</span></dt><dd><p>The list of sources to search in.</p>
</dd>
<dt>source<span class="classifier">Source class</span></dt><dd><p>The source to search for.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>index<span class="classifier">int or None</span></dt><dd><p>Position of the source in the sources list, None if not found.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.sources_from_alignments">
<code class="sig-name descname">sources_from_alignments</code><span class="sig-paren">(</span><em class="sig-param">alignments</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#sources_from_alignments"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.sources_from_alignments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a unique list of sources from the given alignments.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>alignments<span class="classifier">list of Alignment classes</span></dt><dd><p>The pairwise alignments.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>sources<span class="classifier">list of Source classes</span></dt><dd><p>A unique list of the sources.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_function">
<code class="sig-name descname">stitch_by_function</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em>, <em class="sig-param">function=&lt;function amax&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_function"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_function" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources according to shifts applying a specific function in the overlapping regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout to use for the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
<dt>function<span class="classifier">function</span></dt><dd><p>The function to apply in overlapping regions, e.g. np.max or np.mean.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_function_with_weights">
<code class="sig-name descname">stitch_by_function_with_weights</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em>, <em class="sig-param">function=&lt;function sum&gt;</em>, <em class="sig-param">weight_function=&lt;function stitch_weights&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_function_with_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_function_with_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources applying a specific weighting function in the overlapping regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layour of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
<dt>function<span class="classifier">function</span></dt><dd><p>The function to apply in overlapping regions, e.g. np.sum or np.mean.</p>
</dd>
<dt>weight_function<span class="classifier">function</span></dt><dd><p>A function that returns an array of pixel weights given the source shape.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_interpolation">
<code class="sig-name descname">stitch_by_interpolation</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_interpolation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_interpolation" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources according to shifts applying linear interpolation in the overlap regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_interpolation_adjust_max">
<code class="sig-name descname">stitch_by_interpolation_adjust_max</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_interpolation_adjust_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_interpolation_adjust_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources according to shifts applying linear interpolation in the overlap regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_max">
<code class="sig-name descname">stitch_by_max</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_max"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_max" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources according to shifts applying max function in the overlap regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_mean">
<code class="sig-name descname">stitch_by_mean</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_mean"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_mean" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources according to shifts applying mean function in the overlap regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_min">
<code class="sig-name descname">stitch_by_min</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_by_min"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_by_min" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch sources according to shifts applying min function in the overlap regions.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_layout">
<code class="sig-name descname">stitch_layout</code><span class="sig-paren">(</span><em class="sig-param">layout</em>, <em class="sig-param">sink=None</em>, <em class="sig-param">method='interpolation'</em>, <em class="sig-param">verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_layout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_layout" title="Permalink to this definition">¶</a></dt>
<dd><p>Stitch a layout according to its current alignment.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>layout<span class="classifier">Layout class</span></dt><dd><p>The layout of the sources.</p>
</dd>
<dt>sink<span class="classifier">array like or None</span></dt><dd><p>The sink to write the result to.</p>
</dd>
<dt>method<span class="classifier">str</span></dt><dd><p>The method to use for the stitching: ‘interpolation’, ‘max’, ‘min’, ‘mean’</p>
</dd>
<dt>verbose<span class="classifier">bool</span></dt><dd><p>If True, print progress information.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>stitched<span class="classifier">array</span></dt><dd><p>The stitched array.</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="ClearMap.Alignment.Stitching.StitchingRigid.stitch_weights">
<code class="sig-name descname">stitch_weights</code><span class="sig-paren">(</span><em class="sig-param">shape</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ClearMap/Alignment/Stitching/StitchingRigid.html#stitch_weights"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ClearMap.Alignment.Stitching.StitchingRigid.stitch_weights" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the weights of a source of a given shape to use in stitching routines.</p>
<p class="rubric">Arguments</p>
<dl class="simple">
<dt>shape<span class="classifier">tuple of ints</span></dt><dd><p>The shape of the source.</p>
</dd>
</dl>
<p class="rubric">Returns</p>
<dl class="simple">
<dt>weights<span class="classifier">array</span></dt><dd><p>The weigthsfor the pixels of the source.</p>
</dd>
</dl>
</dd></dl>

</div>

 <!-- body -->
    </div> <!-- body -->
    </div> <!-- bodywrapper -->
    

     
  <!-- mainrow --></div>
<!-- document --></div>
<div class="document" style="background-color: #ffffff; text-align: left; padding: 5px 0px 5px 0px">
<p align="center">
<a href="../overview.html"><img src="../_static/ClearMap_banner.jpg" height=150px width=150% border="0" alt="ClearMap"/></a>
</p>
</div>

    <div class="footer" role="contentinfo">
        &#169; Copyright Copyright © 2020 by Christoph Kirst.
    </div>
  </body>
</html>